(function(e){function n(n){for(var r,o,u=n[0],i=n[1],s=n[2],l=0,f=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(n);while(f.length)f.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,o=1;o<t.length;o++){var u=t[o];0!==c[u]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},c={app:0},a=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-4619ac3a":"9c3e3f03","chunk-05a37453":"850e567c","chunk-2ef55042":"a231882e","chunk-6c9ea216":"fdad1ad9","chunk-18eb56ea":"521ce0ad","chunk-39370380":"6c1a3a6b","chunk-607f9409":"c3156c64"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-2ef55042":1,"chunk-6c9ea216":1,"chunk-39370380":1,"chunk-607f9409":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-4619ac3a":"31d6cfe0","chunk-05a37453":"31d6cfe0","chunk-2ef55042":"ad574061","chunk-6c9ea216":"7d6839bc","chunk-18eb56ea":"31d6cfe0","chunk-39370380":"0222794a","chunk-607f9409":"7623c114"}[e]+".css",c=i.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===c))return n()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===r||l===c)return n()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=n,d.onerror=function(n){var r=n&&n.target&&n.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],d.parentNode.removeChild(d),t(a)},d.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){o[e]=0})));var r=c[e];if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,t){r=c[e]=[n,t]}));n.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var f=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(d);var t=c[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",f.name="ChunkLoadError",f.type=r,f.request=o,t[1](f)}c[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var f=0;f<s.length;f++)n(s[f]);var d=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},"0613":function(e,n,t){"use strict";t.d(n,"b",(function(){return S})),t.d(n,"c",(function(){return A}));var r=t("5502"),o=t("1da1"),c=(t("96cf"),t("5530")),a=t("d4ec"),u=t("bee2"),i=(t("d3b7"),t("bc3a")),s=t.n(i),l=t("5a79"),f=!0,d=function(){function e(n){var t,r,o,c,u,i=this;Object(a["a"])(this,e),this.instance=s.a.create(n),this.showLoading=null!==(t=n.showLoading)&&void 0!==t?t:f,this.interceptors=n.interceptors,this.instance.interceptors.request.use(null===(r=this.interceptors)||void 0===r?void 0:r.requestInterceptor,null===(o=this.interceptors)||void 0===o?void 0:o.requestInterceptorCatch),this.instance.interceptors.response.use(null===(c=this.interceptors)||void 0===c?void 0:c.responseInterceptor,null===(u=this.interceptors)||void 0===u?void 0:u.responseInterceptorCatch),this.instance.interceptors.request.use((function(e){return i.showLoading&&(i.loading=l["a"].service({lock:!0,text:"loadding...",background:"rgba(0,0,0,0.5)"})),e}),(function(e){return e})),this.instance.interceptors.response.use((function(e){var n;return null===(n=i.loading)||void 0===n||n.close(),e}),(function(e){var n;switch(null===(n=i.loading)||void 0===n||n.close(),e.responese.status){case 404:console.log("404 not found");break}return e}))}return Object(u["a"])(e,[{key:"request",value:function(e){var n=this;return new Promise((function(t,r){var o;null!==(o=e.interceptors)&&void 0!==o&&o.requestInterceptor&&(e=e.interceptors.requestInterceptor(e)),!1===e.showLoading&&(n.showLoading=e.showLoading),n.instance.request(e).then((function(r){var o;null!==(o=e.interceptors)&&void 0!==o&&o.responseInterceptor&&(r=e.interceptors.responseInterceptor(r)),n.showLoading=f,t(r)})).catch((function(e){return n.showLoading=f,r(e),e}))}))}},{key:"get",value:function(e){return this.request(Object(c["a"])(Object(c["a"])({},e),{},{method:"GET"}))}},{key:"post",value:function(e){return this.request(Object(c["a"])(Object(c["a"])({},e),{},{method:"POST"}))}},{key:"delete",value:function(e){return this.request(Object(c["a"])(Object(c["a"])({},e),{},{method:"DELETE"}))}},{key:"patch",value:function(e){return this.request(Object(c["a"])(Object(c["a"])({},e),{},{method:"PATCH"}))}}]),e}(),h=d,p="",g="",v=1e4;switch("production"){case"development":p="/api",g="dev";break;case"production":p="http://152.136.185.210:5000",g="prod";break;default:p="http://152.136.185.210:5000",g="test";break}var b,m={BASE_NAME:g,BASE_URL:p,TIME_OUT:v},k=t("d80c"),O=new h({baseURL:m.BASE_URL,timeout:m.TIME_OUT,interceptors:{requestInterceptor:function(e){var n=k["a"].getCache("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e},requestInterceptorCatch:function(e){return e},responseInterceptor:function(e){return e},responseInterceptorCatch:function(e){return e}}}),j=O;function w(e){return j.post({url:b.AccountLogin,data:{name:e.username,password:e.password}})}function y(e){return j.get({url:b.LoginUserInfo+e,showLoading:!1})}function C(e){return j.get({url:b.UserMenus+e+"/menu",showLoading:!1})}(function(e){e["AccountLogin"]="/login",e["LoginUserInfo"]="/users/",e["UserMenus"]="/role/"})(b||(b={}));var L=t("afbc"),I={namespaced:!0,state:function(){return{token:"",userInfo:{},userMenus:[]}},getters:{},mutations:{changeToken:function(e,n){e.token=n},changeUserInfo:function(e,n){e.userInfo=n},changeUserMenus:function(e,n){e.userMenus=n}},actions:{accountLoginAction:function(e,n){return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,o,c,a,u,i,s,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,w(n);case 3:return o=t.sent,c=o.data.data,a=c.token,u=c.id,r("changeToken",a),k["a"].setCache("token",a),t.next=9,y(u);case 9:return i=t.sent,s=i.data.data,r("changeUserInfo",s),k["a"].setCache("userInfo",s),t.next=15,C(s.role.id);case 15:l=t.sent,f=l.data.data,console.log(f),r("changeUserMenus",f),k["a"].setCache("userMenus",f),L["a"].push("/main");case 21:case"end":return t.stop()}}),t)})))()},loadLocalLogin:function(e){var n=e.commit,t=k["a"].getCache("token");t&&n("changeToken",t);var r=k["a"].getCache("userInfo");r&&n("changeUserInfo",r);var o=k["a"].getCache("userMenus");o&&n("changeUserMenus",o)}}},E=I,T=Object(r["a"])({state:{},mutations:{},actions:{},modules:{loginModule:E}});function S(){T.dispatch("loginModule/loadLocalLogin")}function A(){return Object(r["b"])()}n["a"]=T},"1ae4":function(e,n,t){e.exports=t.p+"img/logo.1829caec.svg"},"2de9":function(e,n,t){"use strict";t("e79c")},"522b":function(e,n,t){},afbc:function(e,n,t){"use strict";t("d3b7"),t("3ca3"),t("ddb0");var r=t("6c02"),o=t("d80c"),c=[{path:"/",redirect:"/main"},{path:"/main",name:"main",component:function(){return Promise.all([t.e("chunk-4619ac3a"),t.e("chunk-18eb56ea"),t.e("chunk-39370380")]).then(t.bind(null,"85d4"))}},{path:"/login",name:"Login",component:function(){return Promise.all([t.e("chunk-4619ac3a"),t.e("chunk-18eb56ea"),t.e("chunk-607f9409")]).then(t.bind(null,"dc3f"))}},{path:"/ceshi",name:"Ceshi",component:function(){return Promise.all([t.e("chunk-4619ac3a"),t.e("chunk-05a37453"),t.e("chunk-2ef55042")]).then(t.bind(null,"0f90"))}},{path:"/ceshi2",name:"Ceshi2",component:function(){return Promise.all([t.e("chunk-4619ac3a"),t.e("chunk-05a37453"),t.e("chunk-6c9ea216")]).then(t.bind(null,"f8c2"))}}],a=Object(r["a"])({history:Object(r["b"])(""),routes:c});a.beforeEach((function(e){if("/login"!==e.path){var n=o["a"].getCache("token");if(!n)return"/login"}})),n["a"]=a},cd49:function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23"),o={id:"app"};function c(e,n,t,c,a,u){var i=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createVNode"])(i,null,{default:Object(r["withCtx"])((function(e){var n=e.Component,t=e.route;return[Object(r["createVNode"])(r["Transition"],{name:"fade",mode:"out-in"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(r["KeepAlive"],null,[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(n),{key:t.path}))],1024))]})),_:2},1024)]})),_:1})])}var a=Object(r["defineComponent"])({name:"App",setup:function(){return{}}});t("2de9");a.render=c;var u=a,i=t("afbc"),s=t("0613"),l=t("b85c"),f=(t("b0c0"),t("56c9")),d=t("5175"),h=t("e02d"),p=t("e1a3"),g=t("7063"),v=t("4c17"),b=t("236d"),m=t("f3ce"),k=t("05bb"),O=t("b98b"),j=[f["a"],d["a"],h["a"],p["a"],g["a"],v["a"],b["a"],m["a"],k["a"],O["a"]],w=function(e){var n,t=Object(l["a"])(j);try{for(t.s();!(n=t.n()).done;){var r=n.value;e.component(r.name,r)}}catch(o){t.e(o)}finally{t.f()}},y=t("3835"),C=t("2c28"),L=t("1ae4"),I=t.n(L),E={install:function(e){e.directive("imgLazy",{mounted:function(e,n){console.log(e,n,"imgLazy"),e.src=I.a;var t=Object(C["useIntersectionObserver"])(e,(function(t,o){var c=Object(y["a"])(t,1),a=c[0].isIntersecting;a&&(r(),e.src=n.value,e.onerror=function(){e.src=I.a})}),{threshold:0}),r=t.stop}}),e.directive("focus",(function(e,n){console.log(e.children[0],"聚焦",e.nodeName),"INPUT"!==e.nodeName&&(console.log("现在的el不是input"),e=e.children[0]),e.focus()}))}},T=E;function S(e){e.use(w),e.use(T)}t("7437"),t("f5df1"),t("522b");var A=Object(r["createApp"])(u);A.use(S),A.use(s["a"]),Object(s["b"])(),A.use(i["a"]),A.mount("#app")},d80c:function(e,n,t){"use strict";var r=t("d4ec"),o=t("bee2"),c=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"setCache",value:function(e,n){window.localStorage.setItem(e,JSON.stringify(n))}},{key:"getCache",value:function(e){var n=window.localStorage.getItem(e);if(n)return JSON.parse(n)}},{key:"deleteCache",value:function(e){window.localStorage.removeItem(e)}},{key:"clearCache",value:function(){window.localStorage.clear()}}]),e}();n["a"]=new c},e79c:function(e,n,t){}});
//# sourceMappingURL=app.db5ff1f4.js.map